<!DOCTYPE html>
<html lang="zh" >
<head>
    <meta charset="utf-8">
    <meta name="author" content="cardspay.cn">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, user-scalable=no,initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <style type="text/css">
        .scroll{
            width: 100%;
            overflow-y: auto; 
            height: 100%;
        }
        .float{
            height: 50px;
            width: 50px;
            position: absolute;
            bottom: 70px;
            right: 0;
            background: #000;
        }
        .con{
            height: 200%;
            width: 100%;
        }
    </style>
</head>
<body style="width:100%;height:100%;position: relative;margin:0;">
    <div class="scroll">
        <div class="con">
            1<br>
            2<br>
            3<br>
            4<br>
            5<br>
            6<br>
            6<br>
            7<br>
            8<br>
            9<br>
            10<br>
            11<br>
            12<br>
            13<br>
            14<br>
            15<br>
            16<br>
            17<br>
            18<br>
            19<br>
            20<br>
        </div>
    </div>   
    <div class="float"></div> 
   <script src="js/lib/zepto.min.js"></script>
<script>
    $(function(){
        $("body").height($(window).height())
        //拖拽名片 
        var ele=$(".float");
        ele.on('touchstart',startHandler);
        ele.on('touchmove',movetHandler);
        ele.on('touchend',endHandler);
        var startX,startY,offsetX=0,offsetY=0;
        var ww=document.documentElement.clientWidth||document.body.clientWidth;
        var wh=document.documentElement.clientHeight||document.body.clientHeight;
        var eleW=ele.width();
        var eleH=ele.height();

        function startHandler(evt){
            startX=evt.touches[0].pageX-ele[0].offsetLeft;
            startY=evt.touches[0].pageY-ele[0].offsetTop;
        }
        function movetHandler(evt){
            evt.preventDefault();
            offsetX=evt.touches[0].pageX-startX;
            offsetY=evt.touches[0].pageY-startY;
            if(offsetX<0) offsetX=0;
            if(offsetX+eleW>ww) offsetX=ww-eleW;
            if(offsetY<0) offsetY=0;
            if(offsetY+eleH+50>wh) offsetY=wh-eleH-50;
            ele.css({right:'auto',left:offsetX+'px',top:offsetY+'px'})
        }
        function endHandler(evt){
            
        }
    });
</script>
</body>
</html>